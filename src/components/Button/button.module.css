.button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  flex: 0 0 auto;
  min-width: 0;
  width: auto;
  height: min-content;
  cursor: pointer;
  font-weight: var(--typeface__weight__SemiBold);
  border: 0px solid transparent;
  transition: background-color 120ms ease, border-color 120ms ease,
    color 120ms ease, transform 120ms ease;
}
.button:active {
  transform: scale(0.96);
}

/* Sizes */
.sizeSM {
  padding: var(--size__8) var(--size__6);
  font-size: var(--typescale__12__size);
  line-height: var(--typescale__12__lineheight);
  letter-spacing: var(--typescale__12__tracking);
  border-radius: var(--rounded-md);
  --nile-btn-icon-size: 16px;
}
.sizeSM .text {
  margin-inline: var(--size__6);
}

.sizeMD {
  padding: var(--size__10) var(--size__8);
  font-size: var(--typescale__14__size);
  line-height: var(--typescale__14__lineheight);
  letter-spacing: var(--typescale__14__tracking);
  border-radius: var(--rounded-lg);
  --nile-btn-icon-size: 20px;
}
.sizeMD .text {
  margin-inline: var(--size__8);
}

.sizeLG {
  padding: var(--size__12) var(--size__10);
  font-size: var(--typescale__16__size);
  line-height: var(--typescale__16__lineheight);
  letter-spacing: var(--typescale__16__tracking);
  border-radius: var(--rounded-lg);
  --nile-btn-icon-size: 24px;
}
.sizeLG .text {
  margin-inline: var(--size__10);
}

/* Variants (simple defaults, can be swapped for tokens) */
.Primary {
  background: var(--button__primary__background__btnbgdefault);
  color: white;
}
.Primary:hover {
  background: var(--button__primary__background__btnbghover);
}

.Secondary {
  background: var(--button__secondary__background__btnbgdefault);
  color: var(--button__secondary__text__btntextdefault);
}
.Secondary:hover {
  background: var(--button__secondary__background__btnbghover);
}

.Tertiary {
  background: var(--button__tertiary__background__btnbgdefault);
  color: var(--button__tertiary__text__btntextdefault);
  outline: 1px solid var(--button__tertiary__border__btnborderdefault);
  outline-offset: -1px;
}
.Tertiary:hover {
  background: var(--button__tertiary__background__btnbghover);
}

.Ghost {
  background: transparent;
  color: var(--button__ghost__text__btntextdefault);
}
.Ghost:hover {
  background: var(--button__ghost__background__btnbghover);
  color: var(--button__ghost__text__btntextdefault);
}

.Danger {
  background: var(--button__danger__background__btnbgdefault);
  color: var(--button__danger__text__btntextdefault);
}
.Danger:hover {
  background: var(--button__danger__background__btnbghover);
  color: var(--button__danger__text__btntexthover);
}

.Primary.isDisabled,
.Secondary.isDisabled,
.Danger.isDisabled {
  background: var(--button__primary__background__btnbgdisable);
  color: var(--button__primary__text__btntextdisable);
  cursor: not-allowed;
  pointer-events: none;
}
.Tertiary.isDisabled {
  color: var(--button__primary__text__btntextdisable);
  outline: 1px solid var(--button__tertiary__border__btnborderdisable);
  outline-offset: -1px;
  cursor: not-allowed;
  pointer-events: none;
}
.Ghost.isDisabled {
  color: var(--button__primary__text__btntextdisable);
  cursor: not-allowed;
  pointer-events: none;
}

/* Icon / text layout */
.lead,
.trail {
  display: inline-flex;
  align-items: center;
}
.lead svg,
.trail svg {
  width: var(--nile-btn-icon-size);
  height: var(--nile-btn-icon-size);
  color: currentColor;
}

.text {
  display: inline-block;
  white-space: nowrap;
}

.sizeSM .lead, .sizeMD .lead, .sizeLG .lead {
  margin-left: 4px;
}

.sizeSM .trail, .sizeMD .trail, .sizeLG .trail {
  margin-right: 4px;
}

/* Icon-only */
.optionIconOnly {
  justify-content: center;
}
.sizeSM.optionIconOnly {
  width: 32px;
  height: 32px;
}
.sizeMD.optionIconOnly {
  width: 40px;
  height: 40px;
}
.sizeLG.optionIconOnly {
  width: 48px;
  height: 48px;
}

.icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
}
.icon svg {
  width: var(--nile-btn-icon-size);
  height: var(--nile-btn-icon-size);
}

/* Spinner placeholder */
.optionLoading {
  justify-content: center;
}
.sizeSM.optionLoading {
  width: 32px;
  height: 32px;
}
.sizeMD.optionLoading {
  width: 40px;
  height: 40px;
}
.sizeLG.optionLoading {
  width: 48px;
  height: 48px;
}

.spinner {
  border-radius: 50%;
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-top-color: rgba(255, 255, 255, 0.9);
  animation: spin 0.8s linear infinite;
}

/* Secondary, tertiary, and ghost sit on white backgrounds: use dark spinner */
.Secondary .spinner,
.Tertiary .spinner,
.Ghost .spinner {
  border: 2px solid rgba(0, 0, 0, 0.15);
  border-top-color: rgba(0, 0, 0, 0.65);
}

/* Danger uses a red spinner */
.Danger .spinner {
  border: 2px solid rgba(220, 38, 38, 0.25);
  border-top-color: rgba(220, 38, 38, 0.9);
}
.Danger:hover .spinner {
  border: 2px solid rgba(255, 255, 255, 0.3);
  border-top-color: rgba(255, 255, 255, 0.9);
}

.sizeSM .spinner {
  width: 16px;
  height: 16px;
}

.sizeMD .spinner {
  width: 20px;
  height: 20px;
}

.sizeLG .spinner {
  width: 24px;
  height: 24px;
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}
